<!doctype html>
<html lang="cs">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Najdƒõte l√°sku na Qseznamka.cz, seznamce pro lesby, gaye, bisexu√°ly a trans lidi (LGBT+). Seznamka pro v√°≈æn√© vztahy, chat i nov√° p≈ô√°telstv√≠. ≈Ω√°dn√© reklamy ani VIP √∫ƒçty. Podporujeme l√°sku, ne manipulativn√≠ algoritmy.">
    <link rel="preconnect" href="https://api.qseznamka.cz">
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAAD/qqp5FJO3AAAAAXRSTlMAQObYZgAAAEJJREFUCNdjQAc1NUDi/z8GBsb//3ESUCUM9X+AhP0PICH/AUjwPwAS7AeABHMDkGBkQCFYHcCyYHUIxWAJmBJMAACs2hrhZZdQsAAAAABJRU5ErkJggg==" type="image/png">
    <title>Seznamka pro lesby, gaye, bisexu√°ly a trans lidi bez reklam - QSeznamka.cz</title>
    <style>
      ::placeholder {
        color: #333;
      }

      body {
        min-height: 100vh;
        margin: 0;
        background: #212121;
        color: #dedede;
        font-family: sans-serif;
        display: flex;
        flex-flow: column;
        font-size: 18px;
        scrollbar-color: #444 transparent;
      }

      a {
        color: #dedede;
      }

      p {
        line-height: 32px;
        text-rendering: optimizelegibility;
        margin-top: 2.14em;
        margin-bottom: -0.46em;
        word-break: break-word;
      }

      h1 {
        font-size: 56px;
      }

      h2 {
        font-size: 42px;
      }

      h3 {
        font-size: 21px;
      }

      nav {
        display: flex;
        flex-flow: row;
        position: sticky;
        height: 64px;
        background: #212121;
        justify-content: space-evenly;
        top: 0;
        z-index: 100;
      }

      nav svg {
        width: 30px;
      }

      nav a {
        display: flex;
        flex-flow: column;
        align-items: center;
        min-width: 32px;
        justify-content: center;
        text-decoration: none;
      }

      nav span {
        font-size: 14px;
      }

      nav span,
      nav svg {
        pointer-events: none;
      }

      nav .active svg {
        stroke-width: 3px;
      }

      nav .active span {
        font-weight: bold;
      }

      nav #logo {
        stroke: #faa;
      }

      main {
        flex: 1;
      }

      svg {
        stroke-width: 2px;
        fill: none;
        stroke: #dedede;
      }

      button, select {
        border: none;
        border-radius: 48px;
        display: flex;
        justify-content: space-around;
        background: #333;
        align-items: center;
        padding: 8px 16px;
        min-width: 48px;
        min-height: 48px;
        gap: 4px;
        cursor: pointer;
        width: fit-content;
      }

      button svg {
        max-width: 32px;
      }

      label {
        font-size: 18px;
        font-weight: bold;
      }

      footer {
        display: flex;
        justify-content: space-around;
        padding: 3em 1em;
      }
      
      p, span, button, input, select {
        font-size: 18px;
        color: #dedede;
      }

      input {
        border-radius: 2em;
        background: #dedede;
        min-width: 40px;
        min-height: 32px;
        border: none;
        color: #212121;
      }

      

      button:hover, select:hover, .choose-grid button:hover {
        background: #444;
      }

      /* Disclaimer */

      .disclaimer {
        padding: 1em;
        border-radius: 1em;
        background: #333;
        border: 1px solid #fff2;
        align-items: center;
        align-items: anchor-center;
        display: flex;
        gap: 1em;
        width: fit-content;
      }

      .disclaimer button {
        border-radius: inherit;
        width: 48px;
        height: 48px;
        background: #6662;
      }

      .disclaimer button:hover {
        background: #9992;
      }

      .disclaimer-c {
        display: flex;
        position: fixed;
        z-index: 100;
        gap: 1em;
        flex-flow: column;
        bottom: 5%;
        left: 5%;
      }

      .pref-c {
        display: flex;
        flex-flow: column;
        margin: auto;
        max-width: 680px;
        align-items: center;
        gap: 1.5em;
        padding: 2em;
      }

      .pref-c input {
        padding: 8px 16px;
        background: none;
        border-radius: 32px;
        border: none;
        color: #212121;
        background: #dedede;
      }

      .pref-c #age input {
        max-width: 3ch;
      }

      .pref-c #place {
        flex-flow: row;
        flex-wrap: wrap;
      }

      .pref {
        display: flex;
        flex-flow: row;
        gap: 1em;
        align-items: center;
      }

      .thumb_c {
        display: flex;
        padding: 2rem;
        justify-content: center;
        text-decoration: none;
        flex-flow: column;
        max-width: 960px;
        margin: auto;
      }

      .thumb_c .text {
        display: flex;
        flex-flow: column;
        justify-content: space-evenly;
      }

      .thumb {
        border-radius: 0.2em;
        background: #333;
        aspect-ratio: 16/9;
      }

      .thumb img {
        object-fit: cover;
        height: 100%;
        border-radius: inherit;
      }

      .choose-grid {
        display: flex;
        flex-flow: row;
        margin: auto;
        justify-content: space-evenly;
        max-width: 640px;
        padding: 2em;
      }

      .choose-grid button {
        background: none;
        width: 20%;
        /*border-radius: 0;*/
      }

      .choose-grid .active svg {
        stroke-width: 4px;
      }

      .choose-grid .line {
        background: #333;
        width: 2px;
        height: auto;
      }

      .profile-grid {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 4px;
        margin: auto;
      }

      .pt {
        background: #333;
      }

      .profile-thumb, .pt {
        aspect-ratio: 1;
        width: 100%;
        max-width: 512px;
        display: flex;
        align-items: flex-end;
        background-color: #333;
        position: relative;
      }

      .profile-thumb::after {
        content: " ";
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(0deg, #333, transparent 40%);
      }

      .profile-thumb img {
        object-fit: cover;
        width: 100%;
      }

      .profile-thumb svg {
        stroke: #212121;
      }

      .profile-thumb-text {
        display: flex;
        align-items: center;
        gap: 4px;
        padding: 4%;
        z-index: 25;
        position: absolute;
        max-width: 85%;
      }

      .profile-thumb-text span {
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .profile-thumb-text .online {
        min-width: 8px;
        height: 8px;
        background: #0f0;
        border-radius: 50%;
      }

      #people {
        padding-top: 2em;
      }

      #preferences {
        overflow-x: scroll;
        display: flex;
        align-items: center;
        gap: 2em;
        justify-content: center;
      }

      #preferences button {
        padding: 8px 16px;
        border: 1px solid #dedede;
        border-radius: 36px;
        background: transparent;
        font-size: 18px;
      }

      #not-found {
        display: flex;
        flex-flow: column;
        align-items: center;
        padding: 4em 1em;
      }

      #not-found svg {
        stroke-width: 4px;
        stroke: #4f4d36;
        stroke-linecap: round;
        stroke-linejoin: round;
      }

      #not-found h1, #not-found h2 {
        text-align: center;
      }

      #highlight {
        display: flex;
        padding: 128px 3%;
      }

      #highlight p {
        text-decoration: none;
      }

      #highlight #img {
        width: 50%;
        filter: grayscale(0.9);
        transition: 1s;
      }

      #highlight #img:hover {
        filter: grayscale(0);
      }

      #news-list {
        padding: 3em 0;
      }

      #news {
        max-width: min(680px, 80%);
        margin: auto;
      }

      article#news-list::before {
        background-image: url("trans.jpg");
      }

      /* Home */
      #home {
        padding: 4em 0;
      }

      .hero {
        display: flex;
        flex-flow: column;
        margin: auto;
        gap: 2em;
        align-items: center;
        max-width: 80%;
      }

      .hero p {
        font-size: 27px;
      }

      .hero img {
        max-width: 40vw;
        object-fit: cover;
        border-radius: 4em;
        display: none;
      }

      .hero .text {
        display: flex;
        flex-flow: column;
        gap: 2em;
      }

      .hero .love {
        position: relative;
        font-size: inherit;
      }

      .hero .love svg {
        position: absolute;
        width: 100%;
        height: 25%;
        left: 0;
        bottom: -7px;
        z-index: -1;
      }

      .hero button {
        width: fit-content;
        font-size: 32px;
        padding: .5em 1em;
        background: linear-gradient(129deg, #faa, #704141);
        color: #212121;
      }

      .hero h1 {
        font-size: 52px;
      }

      .hero p {
        font-size: 24px;
      }

      .hero h1,
      .hero p {
        margin: 0;
      }

      /* SEARCH */

      .search-w {
        position: relative;
      }

      #place .results {
        position: absolute;
        top: 72px;
        left: 0;
        width: 100%;
        background: #333;
        z-index: 1;
        border-radius: 0 0 24px 24px;
        max-height: 192px;
        display: flex;
        flex-flow: column;
        overflow: auto;
        padding-top: 24px;
      }

      #place .results button {
        justify-content: left;
        border-radius: 0;
        border-top: 2px solid #212121;
      }

      #place .results button:first-child {
        border-top: none;
      }

      #place .bar {
        background: #dedede;
        border-radius: 24px;
        z-index: 20;
        position: relative;
        display: flex;
        flex-flow: wrap;
      }

      #place .bar input {
        background: none;
        width: 100%;
        height: 32px;
        border-radius: 32px 0 0 32px;
        z-index: 10;
      }

      #place .options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        width: 100%;
      }

      #distance {
        font-size: 14px;
        height: 20px;
        border: 2px solid;
        border-radius: 32px 0 0 32px;
        border-right: 0;
        min-width: max-content;
        width: 100%;
      }

      #place .options button {
        border: 2px solid;
        height: 20px;
        border-radius: 0 32px 32px 0;
        min-width: fit-content;
        width: 100%;
      }

      #place .options span {
        font-size:14px;
      }

      /* REGISTRATION */

        #reg, #reg form, #reg-c, #reg-text {
            display: flex;
            flex-flow: column;
        }

        #reg {
            justify-content: center;
            /*align-items: center;*/
            /*padding: 2em;*/
            max-width: min(80%, 360px);
            margin: auto;
            gap: 2em;
            height: calc(100vh - 64px);
        }

        #reg form {
            gap: 1em;
        }

        #reg input {
            border-radius: 10px;
            max-width: 100%;
            color: #212121;
        }

        #reg button {
            border-radius: 20px;
        }

        #reg h1 {
            font-size: 36px;
        }

        #reg h1, #reg p {
            margin: 0;
        }

        #reg-c {
            gap: 2em;
            width: 100%;
            /*justify-content: space-between;*/
        }

        #reg-buttons {
            display: flex;
            justify-content: space-between;
            flex-flow: row-reverse;
        }

        #reg-text {
            gap: 1em;
        }

        /* Chat */

        .name {
          text-overflow: ellipsis;
          overflow: hidden;
        }

        #chat {
          display: flex;
          padding: 2em 0;
          gap: 2em;
          max-width: 920px;
          height: 80vh;
          margin: auto;
        }

        #chat .items {
          flex: 25%;
          display: flex;
          flex-flow: column;
          gap: 1em;
          overflow: auto;
        }
        #chat .item {
          width: 100%;
          display: flex;
          justify-content: flex-start;
          gap: .5em;
        }

        #chat .item img {
          width: 32px;
          height: 32px;
          background-color: #212121;
          border-radius: 100%;
        }

        #chat .messages {
          flex: 75%;
          background: #333;
          border-radius: 2em;
          display: flex;
          flex-flow: column;
        }

        #chat .messagebox {
          overflow-wrap: anywhere;
          padding: 1em;
          gap: .5em;
          display: flex;
          flex-flow: column;
          flex: 1;
          overflow: auto;
          border-radius: 2em;
        }

        #chat .you {
          background: #444;
        }

        #chat .you, #chat .them {
          padding: 1em;
          border-radius: 1em;
        }

        #chat .send {
          display: flex;
          background: #dedede;
          border-radius: 2em;
        }

        #chat textarea {
          resize: none;
          border: none;
          flex: 1;
          border-radius: 2em 0 0 2em;
          max-height: 36px;
          padding: 1em;
          font-family: sans-serif;
          font-size: 18px;
          overflow: auto;
          background: none;
        }

        #chat .send button {
          background: #444;
          border: 4px solid;
          border-radius: 2em;
        }

        /* Ucet */

        .profile-basic {
          display: flex;
          align-items: center;
          flex-flow: column;
          padding: 4em 0;
        }

        #ucet-picture {
          width: 256px;
        }

        /* log reg */
        #log-reg {
          display: flex;
          justify-content: center;
          gap: 4em;
          padding: 4em 0;
        }

        .login-c, .register-c {
          display: flex;
          flex-flow: column;
          gap: 1em;
        }

      @media only screen and (min-width: 600px) {
        h3 {
          font-size: 26px;
        }

        nav a {
          gap: 4px;
          flex-flow: row;
        }

        nav span {
          font-size: 21px;
        }

        nav svg {
          width: 46px;
        }

        .thumb_c {
          flex-flow: row;
          gap: 2em;
        }

        .thumb_c h3 {
          margin: 0;
        }

        .thumb_c .text,
        .thumb_c .thumb {
          width: 33%;
        }

        .profile-grid {
          max-width: min(66%, 1128px);
          grid-template-columns: 1fr 1fr 1fr 1fr;
        }

        .profile-thumb-text span {
          font-size: 24px;
        }

        .hero {
          flex-flow: row;
        }

        .hero h1 {
          font-size: 54px;
        }

        .hero img {
          display: block;
        }

        /* SEARCH */

        #place .results {
          top: 24px;
          left: 0;
          width: 104.75%;
        }

        #place .bar {
          flex-flow: nowrap;
        }

        #place .bar input {
          width: 59%;
        }

        #place .options {
          display: flex;
          width: unset;
        }
      }
    </style>
  </head>
  <body>
  <nav>
   <a id="domu" aria-label="Dom≈Ø" href="/" onclick="urlRoute(event)">
      <svg viewBox="0 0 64 64" id="logo">
         <path d="m24,16l8,8l8,-8" stroke-linecap="round" stroke-width="21px" />
         <path d="m32,38v20m-8,-8h16m-2.34,5.66l-11.31,-11.31m0,11.31l11.31,-11.31" />
      </svg>
   </a>
   <a id="komunita" href="/komunita" onclick="urlRoute(event)">
      <svg viewBox="0 0 64 64">
         <path d="m48,44h-32q-4,0 -4,-4v-24h32v24a4,4 0 0 0 8,0v-16h-8m-28,-4h12v8h-12zm16,4h8m0,12h-24" />
      </svg>
      <span>Komunita</span>
   </a>
   <a id="seznamka" href="/seznamka" onclick="urlRoute(event)">
      <svg viewBox="0 0 64 64">
         <circle r="8" cx="20" cy="18" />
         <path d="m20,22m-16,16a8,4 0 0 1 32,0" />
         <circle r="8" cx="44" cy="28" />
         <path d="m44,32m-16,16a8,4 0 0 1 32,0" />
      </svg>
      <span>Seznamka</span>
   </a>
   <a id="ucet" href="/ucet" onclick="urlRoute(event)">
      <svg viewBox="0 0 64 64">
         <circle r="24" cx="32" cy="32"></circle>
         <g id="ulogo">
            <circle r="8" cx="32" cy="24"></circle>
            <path d="m32,28m-16,16a8,4 0 0 1 32,0"></path>
         </g>
      </svg>
      <span>√öƒçet</span>
   </a>
</nav>
<main id="c"></main>
  <a href="/chat" onclick="urlRoute(event)">Chat</a>
<section class="disclaimer-c"></section>
<footer>
   <span>Obsah str√°nky je pod licenc√≠ CC-BY-SA. Pou≈æ√≠v√°me funkƒçn√≠ cookies.</span>
   <span>
      Vytvo≈ôil<!--a skupina <a href="#">1Earth</a>-->
   </span>
</footer>

<template id="tp-not-found">
   <article id=not-found>
      <svg width=128 height=128 viewBox="0 0 64 64">
         <path d="m31,8l25,48 -48,0zm0,18v14m0,6v.5">
      </svg>
      <h1>Str√°nka nenalezena</h1>
      <a href=/>P≈ôej√≠t na hlavn√≠ stranu</a>
   </article>
</template>

<template id="tp-news-list">
   <article id=news-list>
      <a class=thumb_c href="./clanek">
         <div class=thumb><img alt="Trans lidi"loading=lazy src="./img/thumb/trans.webp" style=object-fit:cover width=100%></div>
         <div class=text>
            <h3>Trans lid√© protestuj√≠ za sv√° pr√°va v headlinu</h3>
            <span>12. 8. 1999 Tag, tag, tag</span>
         </div>
      </a>
      <a class=thumb_c href="./clanek">
         <div class=thumb><img alt="Trans lidi"loading=lazy src="./img/thumb/trans.webp" style=object-fit:cover width=100%></div>
         <div class=text>
            <h3>Trans lid√© protestuj√≠</h3>
            <span>12. 8. 1999 Tag, tag, tag</span>
         </div>
      </a>
      <a class=thumb_c href="./clanek">
         <div class=thumb><img alt="Trans lidi"loading=lazy src="./img/thumb/trans.webp" style=object-fit:cover width=100%></div>
         <div class=text>
            <h3>Trans lid√© protestuj√≠ za sv√° pr√°va v headlinu</h3>
            <span>12. 8. 1999 Tag, tag, tag</span>
         </div>
      </a>
      <a class=thumb_c href="./clanek">
         <div class=thumb><img alt="Trans lidi"loading=lazy src="./img/thumb/trans.webp" style=object-fit:cover width=100%></div>
         <div class=text>
            <h3>Trans lid√© protestuj√≠ za sv√° pr√°va v headlinu</h3>
            <span>12. 8. 1999 Tag, tag, tag</span>
         </div>
      </a>
   </article>
</template>

<template id="tp-log-reg">
  <article id="log-reg">
    <div class="login-c">
      <input type="text" id="log-username" placeholder="Jm√©no u≈æivatele">
      <input type="password" id="log-password" placeholder="Heslo">
      <button onclick="login()">P≈ôihl√°sit</button>
    </div>
    <div class="register-c">
      <input type="text" id="reg-username" maxlength=16 minlength=3 pattern=[A-Za-z0-9]{3,16} placeholder="Jm√©no u≈æivatele">
      <input type="password" id="reg-password" placeholder="Heslo">
      <input type="number" id="reg-age" min="15" max="99" placeholder="Vƒõk">
      <input type="text" id="reg-picture" placeholder="URL profilovky">
      <button onclick="register()">Registrovat</button>
    </div>
    
  </article>
</template>

<template id="tp-reg">
   <article id=reg>
      <div id=reg-c>
         <div id=reg-text>
            <h1>Registrace</h1>
            <p>Zadejte svou p≈ôezd√≠vku
         </div>
         <form onsubmit=regCheck()>
            <input autofocus id=nick maxlength=16 minlength=3 pattern=[A-Za-z0-9]{3,16} placeholder=P≈ôezd√≠vka style="border-radius:10px;background:#dedede;max-width:100%;border:none;padding:8px 16px;color:#212121;min-height:48px">
            <div id=reg-buttons><button type=submit>Dal≈°√≠</button> <button>Zpƒõt</button></div>
         </form>
      </div>
   </article>
</template>

<template id="tp-ucet">
  <div class="profile-basic">
    <div id="ucet-picture"><div class="pt"></div></div>
    <h2 id="ucet-username"></h2>
  </div>
  
</template>

<template id="tp-people">
   <article id=people>
      <div class=pref-c>
         <div class=pref id=age>
            <label>Vƒõk:</label>
            <select aria-label="Minim√°ln√≠ vƒõk" id=min-age onchange="resetProfileSearch()"></select>
            <span>a≈æ</span>
            <select aria-label="Maxim√°ln√≠ vƒõk" id=max-age onchange="resetProfileSearch()"></select>
            <span>let</span>
          </div>
         <div class=pref id=place>
            <div class=search-w>
               <div class=results></div>
               <div class=bar>
                  <input id="search" oninput="searchTyping()" placeholder="N√°zev obce">
                  <div class=options>
                     <select aria-label="Vzd√°lenost" id=distance onchange="resetProfileSearch()">
                        <option value=1>1 km
                        <option value=2>2 km
                        <option value=5>5 km
                        <option value=10 selected>10 km
                        <option value=20>20 km
                        <option value=50>50 km
                        <option value=100>100 km
                        <option value=200>200 km
                        <option value=none>200+ km
                     </select>
                     <button onclick=getLoc()>
                        <svg viewBox="0 0 64 64"width=48>
                           <circle cx=32 cy=32 r=8 />
                           <circle cx=32 cy=32 r=16 />
                           <path d=m8,32h8m16,16v8m16,-24h8m-24,-16v-8 />
                        </svg>
                        <span>M√° poloha</span>
                     </button>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class=choose-grid>
         <button aria-label="M≈ô√≠≈ækov√Ω m√≥d" class=active>
            <svg viewBox="0 0 64 64"width=32>
               <path d=m40,8v48m-16,0v-48m-16,16h48m0,16h-48 />
               <rect height=48 width=48 x=8 y=8 />
            </svg>
         </button>
         <div class=line></div>
         <button aria-label="Swipe m√≥d">
            <svg viewBox="0 0 64 64"width=32>
               <path d=m8,24h48m0,16h-48 />
               <rect height=48 width=48 x=8 y=8 />
            </svg>
         </button>
         <div class=line></div>
         <button aria-label="Scroll m√≥d">
            <svg viewBox="0 0 64 64"width=32>
               <path d=m18,9v46h28v-46z />
            </svg>
         </button>
      </div>
      <div id=grid-c class=profile-grid>
         <div class=pt></div>
         <div class=pt></div>
         <div class=pt></div>
         <div class=pt></div>
         <div class=pt></div>
         <div class=pt></div>
         <div class=pt></div>
         <div class=pt></div>
         <div class=pt></div>
         <div class=pt></div>
         <div class=pt></div>
         <div class=pt></div>
      </div>
      <div id="grid-disclaimer"></div>
   </article>
</template>

<template id="tp-news">
   <article id=news>
      <h1>S po≈ôadov√Ωm ƒç√≠slem v prost√© vzestupn√©</h1>
      <p>Paragraf (znaƒçka ¬ß, U+00A7, na ƒçes. kl√°vesnici (lev√Ω) Alt + 0167, patrnƒõ vznikla ve st≈ôedovƒõku jako ligatura, dvojit√© S ve v√Ωznamu signum sectionis k oznaƒçov√°n√≠ po≈ôad√≠ odstavc≈Ø) je v souƒçasnosti zpravidla ƒç√°st pr√°vn√≠ho p≈ôedpisu nadepsan√° znakem ¬ß s po≈ôadov√Ωm ƒç√≠slem v prost√© vzestupn√© ≈ôadƒõ, nap≈ô. ‚Äû¬ß 24‚Äú. Mluv√≠ se pak o tomto po≈ôad√≠ buƒè prost√Ωm ƒç√≠slem (‚Äûparagraf dvacet ƒçty≈ôi‚Äú) nebo po≈ôadov√Ωm ƒç√≠slem (‚Äûparagraf dvac√°t√Ω ƒçtvrt√Ω‚Äú). V ƒçlenƒõn√≠ text≈Ø jin√© ne≈æ pr√°vn√≠ povahy se paragrafy objevuj√≠ jen z≈ô√≠dka, nap≈ô. v uƒçebnic√≠ch nebo soustavn√Ωch pojedn√°n√≠ch. jak tate for free and on voluntary contributions offery na redesing for free
      <p>Slovem paragraf se naz√Ωv√° i samotn√Ω znak ¬ß, kter√Ω je jedn√≠m ze symbol≈Ø, synonymem pr√°va, legislativy a p≈ôedpis≈Ø ‚Äì zejm√©na v mno≈æn√©m ƒç√≠sle (nap≈ô. ‚Äûvyznat se v paragrafech‚Äú). V angliƒçtinƒõ m√° slovo paragraph v√Ωznam ‚Äûodstavec‚Äú, znaku se ≈ô√≠k√° section sign a obdobnƒõ nap≈ô. ≈°panƒõlsky signo de secci√≥n.
      <h2>Pou≈æit√≠</h2>
      <p>Ve st≈ôedoevropsk√© legislativƒõ se znak ¬ß pou≈æ√≠v√° pro oznaƒçov√°n√≠ vƒõt≈°√≠ch odd√≠l≈Ø textu pr√°vn√≠ho p≈ôedpisu, v nƒõkter√Ωch jin√Ωch oblastech se pou≈æ√≠v√° pro ƒç√≠slov√°n√≠ jednotliv√Ωch men≈°√≠ch odstavc≈Ø.
      <p>Pr√°vn√≠ p≈ôedpisy ƒåesk√© republiky se pravidelnƒõ strukturuj√≠ podle √∫rovn√≠: ƒç√°st ‚Äì hlava ‚Äì d√≠l ‚Äì odd√≠l ‚Äì pododd√≠l ‚Äì paragraf ‚Äì odstavec ‚Äì p√≠smeno (pododstavec) ‚Äì bod. Paragrafy se tedy zpravidla ƒçlen√≠ na dal≈°√≠ ƒç√°sti. ƒå√≠slov√°n√≠ paragraf≈Ø je v textu p≈ôedpisu v≈ædy vzestupn√©, poƒç√≠naje ƒç√≠slic√≠ 1. V ƒçesk√© legislativƒõ jsou paragrafy z√°kladn√≠, stabilizovanou √∫rovn√≠ ƒçlenƒõn√≠ pr√°vn√≠ch p≈ôedpis≈Ø, tj. oznaƒçen√° ƒç√°st textu si sv√© oznaƒçen√≠ ponech√°v√° i p≈ôi p≈ô√≠padn√Ωch novelizac√≠ch v budoucnu, tak≈æe pokud je do dosud souvisl√©ho textu vlo≈æen nov√Ω paragraf, je oznaƒçen ƒç√≠slem paragrafu p≈ôedch√°zej√≠c√≠ho s doplnƒõn√≠m p√≠smene, a v p≈ô√≠padƒõ zru≈°en√≠ paragrafu se ƒç√≠sla n√°sleduj√≠c√≠ch paragraf≈Ø nemƒõn√≠ a ƒç√≠slo zru≈°en√©ho paragrafu z≈Øst√°v√° neobsazeno. P≈ôi p≈ô√≠padn√Ωch vƒõt≈°√≠ch nebo postupn√Ωch novelizac√≠ch jsou vyu≈æ√≠v√°na p√≠smena podle abecedy.[1] Nap≈ô. po ¬ß 19 obƒçansk√©ho z√°kon√≠ku z roku 1964 n√°sledovaly v jeho posledn√≠m znƒõn√≠ ¬ß 19a, ¬ß 19b, ¬ß 19c a a≈æ pot√© ¬ß 20.
   </article>
</template>

<template id="tp-home">
   <article id=home>
      <div class=hero>
         <div class=text>
            <h1>
               <span class=love>
                  L√ÅSKA
                  <svg preserveAspectRatio=none viewBox="0 0 64 16">
                     <path d="m0,8q16,8 32,0t32,0"stroke=#faa />
                  </svg>
               </span>
               NEN√ç<br>NA PRODEJ
            </h1>
            <p>Hled√°n√≠ partner≈Ø by nemƒõlo b√Ωt jen pro VIP. ≈Ω√°dn√© reklamy, paywally, ani manipulativn√≠ algoritmy.</p>
            <button onclick="urlRoute(event);location.href='./registrace'" type="button">Zaregistrovat se</button>
         </div>
         <div class=visual><img alt="Mu≈æsk√Ω p√°r v objet√≠"src="/img/w/gay-hug.webp"></div>
      </div>
   </article>
</template>

<template id="tp-chat">
  <input type="number" id="receiver-id" placeholder="ID (e.g. 2)">
  <section id="chat">
    <div class="items">
      <!--<button class="item">
        <img src="#" alt="J">
        <span class="name">Jm√©no</span>
        <div class="online"></div>
      </button>-->
    </div>
    <div class="messages">
      <div class="messagebox" id="messagebox">
        <!--<div class="you">Hello, would you mind having sex with me?</div>
        <div class="them">No, I would very much appreaciate it.</div>-->
        <span style="text-align: center;"><i>Zde se zobraz√≠ zpr√°vy</i></span>
      </div>
      <div class="send">
        <textarea id="msgsend" placeholder="Napi≈°te zpr√°vu"></textarea>
        <button onclick="sendMessage()"><svg viewBox="0 0 32 32" width="32" height="32"><path d="m0,0 32,16 -32,16 8,-16z"/></svg></button>
      </div>
    </div>
  </section>
</template>
    <script>
      /* Variables */
        
      let id = function(id) {return document.getElementById(id);};

      const c = id("c");
      const disCon = document.querySelector(".disclaimer-c");

      const offsetBase = 12;
      let i = 0;

      let cache = {};
      let u = {};
      u.spage = 0;
      u.sEnd = false;
      u.bottom = false;

      let s = {}; // Search object
      s.q = {}; // Search object - search query
      s.p = 0; // Search page

      let pr = [];

      let loc = new Object(); // Geolocation object

      let lastIns = "aaa"; // Last insert for searchTyping()
      let lastRes = ""; // Last response for searchTyping()

      const gridId = "grid-c";

      // let socket = null;

      const p = { // Pages object
        domu: {
          t: "Domov",
          d: "Popis domova",
          c: "tp-home"
        },
        komunita: {
          t: "Komunita",
          d: "Popis zpr√°v",
          c: "tp-news-list"
        },
        seznamka: {
          t: "Seznamka",
          d: "Seznamkov√Ω popis",
          c: "tp-people"
        },
        ucet: {
          t: "√öƒçet",
          d: "Mƒõl by tu b√Ωt?",
          c: "tp-ucet"
        },
        regloc: {
          t: "Registrace a p≈ôihl√°≈°en√≠",
          d: "Mƒõl by tu b√Ωt?",
          c: "tp-log-reg"
        },
        registrace: {
          t: "Registrace",
          d: "Zaregistrujte se",
          c: "tp-reg"
        },
        clanek: {
          t: "ƒål√°nek",
          d: "Popis",
          c: "tp-news"
        },
        nothing: {
          t: "Str√°nka nenalezena",
          d: "404",
          c: "tp-not-found"
        },
        chat: {
          t: "Chat",
          d: "Popis",
          c: "tp-chat"
        }
      };

      window.onerror = function(error, url, line) { // Handle errors early

        if (c.innerHTML == "") {
          console.error(`${error}; ${url}; ${line}`);
          c.innerHTML = '<article id=error><svg width=128 height=128 viewBox="0 0 64 64"><path d="m31,8l25,48 -48,0zm0,18v14m0,6v.5"></svg><h1>Nƒõkde se stala chyba</h1><a href="window.location.reload()">Obnovit str√°nku</a></article>'
        }
      };
        
      /* Geolocation */

      function setCoor(lat, lon, name = "") {
        if (name != "") {
          const search = id("search");
          search.value = name;
        }
        u.lat = lat;
        u.lon = lon;

        const results = document.querySelector("#place .results");
        // u.spage = 0;
        // setGrid();
        resetProfileSearch();
        results.innerHTML = "";
        disclaimer("Poloha nastavena", 2);
      }
      
      function getLoc() {
        navigator.geolocation.getCurrentPosition((pos) => {
            loc = pos.coords;
            setCoor(loc.latitude.toString(), loc.longitude.toString());
          },
          (err) => {
            console.warn(`ERROR(${err.code}): ${err.message}`);
            disclaimer("Urƒçen√≠ polohy selhalo", 3)
          },
          [false, 5000, 0]);
      }
        
      /* Register */

      async function register() {
    const newUser = {
        name: id("reg-username").value,           // Must be 3-20 chars
        password: id("reg-password").value, // Must be at least 8 chars
        age: Number(id("reg-age").value),
        picture: id("reg-picture").value
    };

    try {
        // 2. Send POST request to /send
        const response = await fetch("https://api.qseznamka.cz/send", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(newUser)
        });

        // 3. Parse response
        const data = await response.json();
        console.log("Registration Response:", data);
        
        if (response.ok) {
            disclaimer("U≈æivatel zaregistrov√°n.", 2);
        } else {
            disclaimer("Chyba p≈ôi registraci", 3);
            console.error("Error: " + data.message);
        }
    } catch (err) {
        disclaimer("Chyba p≈ôipojen√≠", 3);
        console.error("Network Error:", err);
    }
}

/* Check session */

async function checkSession() {
    try {
        const response = await fetch("https://api.qseznamka.cz/me", {
            method: "GET",
            headers: {
                "Content-Type": "application/json"
            },
            // Important: This tells the browser to send the 'my-kata-cookie'
            credentials: "include" 
        });
        if(response.status === 401) {console.log("Nep≈ôihl√°≈°en (401)"); return false;}

        if (response.ok) {
            const userData = await response.json();
            u.name = userData.name;
            u.id = userData.id;
            u.picture = userData.picture;
            
            // Update your UI here
            //id("username-display").innerText = userData.name;
            if (u.name === undefined) {return false} else return true;
        } else {
            // disclaimer("Nejste p≈ôihl√°≈°eni");
            // Show login button
            return false;
        }
    } catch (err) {
      disclaimer("Chyba ovƒõ≈ôen√≠ p≈ôihl√°≈°en√≠", 3);
        console.error("Error checking session:", err);
        return false;
    }
}
      
      /* Login */

      async function login() {
    const name = document.getElementById("log-username").value;
    const password = document.getElementById("log-password").value;

    try {
        const response = await fetch(`https://api.qseznamka.cz/login`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            credentials: "include", 
            body: JSON.stringify({ name, password })
        });

        // 1. Debug: Check status first
        console.log(`Server responded with status: ${response.status}`);

        // 2. Read raw text first (to prevent JSON crash on empty/HTML bodies)
        const text = await response.text();
        console.log("Raw response body:", text); // <--- LOOK AT THIS IN CONSOLE

        // 3. Handle empty response explicitly
        if (!text) {
            throw new Error("Server returned an empty response.");
        }

        // 4. Parse manually
        const data = JSON.parse(text);

        if (response.ok && data.status === "success") {
            disclaimer("√öspƒõ≈°nƒõ p≈ôihl√°≈°eno", 2);
            checkSession();
            // document.getElementById("chat-section").style.display = "block";
            connectWs();
        } else {
            disclaimer(data.message || "P≈ôihl√°≈°en√≠ selhalo", 3);
            console.log("Login failed:", data);
        }
    } catch (err) {
        console.error("Login Error:", err);
        disclaimer("Chyba p≈ôihl√°≈°en√≠ (viz konzole)", 3);
    }
}
      
        // 2. WEBSOCKET CONNECTION
        let socket;
let reconnectTimeout = null;

function connectWs() {
    // Pokud se u≈æ p≈ôipojujeme nebo je otev≈ôeno, nic nedƒõlej
    if (socket && (socket.readyState === WebSocket.OPEN || socket.readyState === WebSocket.CONNECTING)) {
        return;
    }

    socket = new WebSocket("wss://api.qseznamka.cz/ws");

    socket.onopen = () => {
        // Pokud jsme mƒõli napl√°novan√Ω pokus o reconnect, zru≈°√≠me ho
        clearTimeout(reconnectTimeout);
        // document.getElementById("ws-status").innerText = "Connected";
        // document.getElementById("ws-status").style.color = "green";
        console.log("WS Connected");
    };

    socket.onclose = (event) => {
        // document.getElementById("ws-status").innerText = "Disconnected (Reconnecting...)";
        // document.getElementById("ws-status").style.color = "orange";
        console.log("WS Disconnected. Reconnecting in 3s...", event.reason);

        // Zkusit se znovu p≈ôipojit za 3 sekundy
        clearTimeout(reconnectTimeout);
        reconnectTimeout = setTimeout(() => {
            connectWs();
        }, 3000);
    };

    socket.onerror = (error) => {
        console.error("WS Error:", error);
        socket.close(); // Force close to trigger onclose reconnect
    };

    socket.onmessage = (event) => {
        const msg = JSON.parse(event.data);
        displayMessage(/*`User ${msg.from_user_id}: ${msg.content}`*/content, false);
    };
}


        // 3. SEND MESSAGE
        function sendMessage() {
            const receiverId = document.getElementById("receiver-id").value;
            const content = document.getElementById("msgsend").value;

            if (!receiverId || !content) {
                disclaimer("Nejprve zvolte u≈æivatele a napi≈°te zpr√°vu");
                return;
            }

            // Construct the payload matching 'WsIncomingMessage' struct
            const payload = {
                to_user_id: parseInt(receiverId),
                content: content
            };

            if (socket && socket.readyState === WebSocket.OPEN) {
                socket.send(JSON.stringify(payload));
                
                // Rust backend sends to receiver, but usually not back to sender.
                // We display it locally so we know we sent it.
                displayMessage(/*`Me (to ${receiverId}): ${content}`*/content, true);
                
                // Clear input
                document.getElementById("msgsend").value = "";
            } else {
                disclaimer("Socket not connected.");
            }
        }

        function displayMessage(text, you) {
            const list = document.getElementById("messagebox");
            const msg = document.createElement("div");
            const cla = you ? "you" : "them";
            msg.classList.add(cla);
            msg.textContent = text;
            // const li = document.createElement("li");
            // li.textContent = `[${new Date().toLocaleTimeString()}] ${text}`;
            list.appendChild(msg);
        }
      /* Profiles */

      async function getProfiles() {

        try {

          // Get input values

          const minAge = id("min-age").value;
          const maxAge = id("max-age").value;
          const distance = id("distance").value;
          const search = id("search").value;

          s.q.minAge = minAge;
          s.q.maxAge = maxAge;
          s.q.distance = distance;
          s.q.bar = search;

          // Build query

          let query = "https://api.qseznamka.cz/search";
          let queryArray = [];

          if (minAge != "15" || maxAge != "99") {
            queryArray.push(`age_min=${minAge}&age_max=${maxAge}`);
          }

          if (Object.hasOwn(u, "lat") && distance != "none") {
            const range = Number(distance) * 0.01 * .5;
            const minLat = u.lat - range;
            const maxLat = u.lat + range;
            const minLon = u.lon - range;
            const maxLon = u.lon + range;
            queryArray.push(`lat_min=${minLat}&lat_max=${maxLat}&lon_min=${minLon}&lon_max=${maxLon}`);
          }

          if (s.p > 0) {
            queryArray.push("off=" + s.p * offsetBase);
          }

          for (i = 0; i < queryArray.length; i++) {
            if (i == 0) {query += "?"} else query += "&";
            query += queryArray[i];
          }

          // console.log(query);

          // Get response from query

          const response = await fetch(query);

          if (!response.ok) {
            throw new Error(`Response status: ${response.status}`);
          }

          const result = await response.json();
          pr = pr.concat(result);

          return result;

        } catch (error) {

          console.error(error.message);
          disclaimer("Nepoda≈ôilo se naƒç√≠st Grid", 3);

          return null;

        }
      }

      async function generateProfile(profile, place) {
        let gItems = "";

              gItems += `<a class="profile-thumb" href="#">`;

              if (profile.picture == null || profile.picture == "") {

                gItems += `<svg viewBox="0 0 64 64" alt="profilovka ${profile.name}"><use href="#ulogo"></svg>`;

              } else {

                gItems += `<img alt="profilovka ${profile.name}" src="https://qseznamka.cz/img/u/profile/${profile.picture}" fetchpriority=high>`
                
              }

              gItems += `<div class="profile-thumb-text"><span>${profile.name}</span><div class="online"></div></div></a>`;

              place.innerHTML = gItems;
      }

      async function showProfiles() {

        try {

          const grid = id(gridId);

          // Create profiles

          const profiles = await getProfiles();

          if (profiles) {

            let gItems = "";

            for (i = 0; i < profiles.length; i++) {

              gItems += `<a class="profile-thumb" href="#">`;

              if (profiles[i].picture == null || profiles[i].picture == "") {

                gItems += `<svg viewBox="0 0 64 64" alt="profilovka ${profiles[i].name}"><use href="#ulogo"></svg>`;

              } else {

                gItems += `<img alt="profilovka ${profiles[i].name}" src="https://qseznamka.cz/img/u/profile/${profiles[i].picture}" fetchpriority=high>`
                
              }

              gItems += `<div class="profile-thumb-text"><span>${profiles[i].name}</span><div class="online"></div></div></a>`;
              
            }

            // grid.innerHTML += gItems;
            // cache.grid = grid.innerHTML;

            if (document.querySelector(".profile-thumb") == null) {
              grid.innerHTML = gItems;
            } else {
              grid.innerHTML += gItems;
            }

          } else {

            disclaimer("Nepoda≈ôilo se st√°hnout profily", 3);

          }

        } catch(error) {

          console.error("Failed to load profiles:", error);
          disclaimer("Nepoda≈ôilo se naƒç√≠st profily", 3);

        }

      }

      function resetProfileSearch() {

        const grid = id(gridId);

        // profiles = {};
        pr = [];
        s.p = 0;
        grid.innerHTML = "";

        showProfiles();

      }

      /* Search cities */
      
      async function searchTyping() {

        let citySearch = search.value;
        let cities;

        const results = document.querySelector("#place .results");

        if (citySearch.length > 1) {
          const search = id("search");
          let cityArray = [];
          const name = citySearch.substring(0, 2).toLowerCase();
          try {
            if (lastIns == name) {
              cities = lastRes;
            } else {
              const response = await fetch(`/data/cities/${name}.json`);
              cities = await response.json();

              lastRes = cities;
              lastIns = name;
            }

            for (const city of cities) {
              if (city.name.substring(0,citySearch.length).toLowerCase() == citySearch.toLowerCase()) {
                cityArray.push([city.name, city.lat, city.lon]);
              }
            }

            results.innerHTML = "";

            if (cityArray.length == 0) {
              results.innerHTML = "<button style='text-align: center;'><i>Obec nenalezena</i></button>";
            } else for (i = 0; i < cityArray.length; i++) {
              results.innerHTML += `<button onclick="setCoor(${cityArray[i][1]},${cityArray[i][2]},'${cityArray[i][0]}')">${cityArray[i][0]}</button>`;
            }
          } catch(e) {
            console.log(`Selhal fetch mƒõst: ${e}`);
            results.innerHTML = "<button style='text-align: center;'><i>Obec nenalezena</i></button>";
          }
              
        } else {
          results.innerHTML = "";
        }
               
      }

      /* Disclaimer */

      function disclaimer(text, type = 0) {
        const disc = document.createElement("span");
        disc.classList.add("disclaimer");
        disc.innerHTML = `<span>${text}</span><button onlick="() => {disc.remove()}"><svg viewBox="0 0 64 64"><path d="m8,8l48,48m-48,0l48,-48"></svg></button>`;
        //disc.onclick = () => {disc.remove()};

        switch (type) {
          case 1: // Warning
            disc.style.background = "#330";
          break;
          case 2: // Success
            disc.style.background = "#030";
          break;
          case 3: // Error
            disc.style.background = "#300";
          break;
        }

        disCon.appendChild(disc);
        setTimeout(() => {disc.remove()}, 3000);
      }

      /* Cookies */
      
      async function get_c() {
        try {
          const response = await fetch("https://api.qseznamka.cz/get_session", {
            credentials: 'include'
          });
          if (!response.ok) {
            throw new Error(`Response status: ${response.status}`);
          }
          const result = await response.text();
          console.log(result);
        } catch (error) {
          console.error(error.message);
        }
      }
      async function set_c() {
        try {
          const response = await fetch("https://api.qseznamka.cz/set_session", {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              message: "123go"
            }),
            credentials: "include"
          });
          if (!response.ok) {
            throw new Error(`Response status: ${response.status}`);
          }
          const result = await response.text();
          console.log(result);
        } catch (error) {
          console.error(error.message);
        }
      }

      function scroll() {
        // if (u.loc == "/seznamka" && u.sEnd == false) {
        if (u.loc == "/seznamka" && pr.length % 12 == 0) {
          const cR = c.getBoundingClientRect();
          if (cR.bottom < window.innerHeight) {
            // u.spage++;
            s.p++;
            showProfiles();
            // const grid = document.querySelector(".profile-grid");
            // showGrid(grid);
          }
        }
      }

      /* Load documents */
      
      function loadDoc(page) {
        document.title = `${p[page].t} - Qseznamka.cz`;
        const template = id(p[page].c);
        c.innerHTML = "";
        c.appendChild(template.content.cloneNode(true));
        if (id(page)) id(page).classList.add("active");
        // cR = c.getBoundingClientRect();
      }

      /* Chat*/
      async function messaged() {
        try {if (u.id === undefined) return;
          const response = await fetch("https://api.qseznamka.cz/messaged", {
          credentials: "include",
          headers: {
            "Content-Type": "application/json",
          }});
          const items = await response.json();
          const itemlist = document.querySelector(".items");

          let gitems = "";

          for (let i = 0; i < items.length; i++) {
            gitems += "<button class='item'>";
              if (items[i].picture != null && items[i].picture != "") {
                gitems += "<img src='https://qseznamka.cz/img/u/profile/" + items[i].picture + "' alt='Profilov√Ω obr√°zek u≈æivatele " + items[i].name + "'>";
              }
              gitems += "<span class='name'>" + items[i].name + "</span></button>";

              itemlist.innerHTML = gitems;
          }
        } catch(err){console.log(err)}
      }

      /* Routing */

      /*document.addEventListener("click", (e) => {
      	const { target } = e;
      	/*if (!target.matches("nav a")) {
      		return;
      	}/
      	e.preventDefault();
      	urlRoute();
      });*/
      function route(e) {
        e.preventDefault();
        urlRoute();
      }
        
      const urlRoute = (event) => {
        event = event || window.event;
        event.preventDefault();
        window.history.pushState({}, "", event.target.href);
        urlLocationHandler();
      };
      const urlLocationHandler = async () => {
        const location = window.location.pathname;
        if (location.length == 0) {
          location = "/";
        }
        u.loc = location;
        [].forEach.call(document.querySelectorAll('nav a'), function(el) {
          el.classList.remove('active');
        });
        let page = "";
        document.body.scrollTop = 0;
        switch (location) {
          case "/": loadDoc("domu"); break;
          case "/komunita": loadDoc("komunita"); break;
          case "/seznamka":
            /*<a class=profile-thumb href=#><img alt="profilov√° fotka" src=profile.webp>
              <div class=profile-thumb-text><span>John Doe</span>
                <div class=online></div>
              </div>
            </a>*/
            loadDoc("seznamka");

            const minAge = id("min-age");
            const maxAge = id("max-age");

            for (i = 15; i < 100; i++) {
              const vMax = 114 - i;
              minAge.innerHTML += `<option value="${i}">${i}</option>`;
              maxAge.innerHTML += `<option value="${vMax}">${vMax}</option>`;
            }

            const search = id("search");
            const results = document.querySelector("#place .results");
            let cityArray = [];

            const grid = document.querySelector(".profile-grid");
            /*const gItemPl = document.createElement("div");
            gItemPl.classList.add(".profile-thumb");
            gItemPl.style.background = "#333";
            for (i = 0; i < 15; i++) grid.appendChild(gItemPl.cloneNode());*/
            if (Object.hasOwn(u, "s")) {
              const distance = id("distance");
              minAge.value = u.s.minAge;
              maxAge.value = u.s.maxAge;
              search.value = u.s.bar;
              distance.value = u.s.distance;
            }
            resetProfileSearch();
            showProfiles();
            // showGrid(grid);
            break;
          case "/ucet":
            if (await checkSession()) {
              loadDoc("ucet");
              id("ucet-username").innerHTML = ("Zdrav√≠m " + u.name + " üëã");
              const pic = id("ucet-picture");
              generateProfile(u, pic);
            } else {
              loadDoc("regloc");
            }
            break;
          case "/clanek": loadDoc("clanek"); break;
          case "/chat": loadDoc("chat"); await messaged(); break;
          default: loadDoc("nothing"); break;
        }
      };

      document.addEventListener("visibilitychange", () => {
        if (u.id === undefined) return;
    if (document.visibilityState === "visible") {
        console.log("Tab focused - checking connection...");
        // Pokud je socket zav≈ôen√Ω, hned ho zkus√≠me nahodit
        if (!socket || socket.readyState === WebSocket.CLOSED) {
            connectWs();
        }
    }
});


      /* Window events */
      
      window.onscroll = function(){scroll()};
      window.onresize = function(){scroll()};
      window.onpopstate = urlLocationHandler;
      window.route = urlRoute;
      urlLocationHandler();

      checkSession();
    </script>
  </body>
</html>

























